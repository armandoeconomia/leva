<!DOCTYPE html>
<html class="light" lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>LEVA - Tu salud, a un clic de distancia</title>

  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <!-- Fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap"
  />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&display=swap"
  />

  <!-- Tailwind CDN + config -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#D9D8E0",
            "primary-light": "#F8F7F9",
            "accent": "#B69CFF",
            "text-primary": "#2A2A2A",
            "text-secondary": "#6F6F6F",
            "background-main": "#F8F7F9",
            "background-card": "#FFFFFF",
          },
          fontFamily: {
            "display": ["Inter", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.5rem",
            "lg": "0.75rem",
            "xl": "1rem",
            "full": "9999px"
          },
          boxShadow: {
            "soft":
              "0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -2px rgba(0, 0, 0, 0.05)",
            "medium":
              "0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1)",
          }
        },
      },
    }
  </script>

  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>

    <!-- BOTÓN FLOTANTE DE CONSULTAS RÁPIDAS -->
    <div class="fixed bottom-5 right-5 z-50">
      ...
    </div>
  </div>

  <!-- SCRIPT DEL CARRUSEL DE TESTIMONIOS -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const track = document.querySelector("[data-carousel-track]");
      if (!track) return;

      const slides = Array.from(track.children);
      const prevBtn = document.querySelector("[data-carousel-prev]");
      const nextBtn = document.querySelector("[data-carousel-next]");
      const dotsContainer = document.querySelector("[data-carousel-dots]");
      const dots = dotsContainer ? Array.from(dotsContainer.querySelectorAll("[data-carousel-dot]")) : [];

      let currentIndex = 0;
      const totalSlides = slides.length;

      function goToSlide(index) {
        if (index < 0) index = totalSlides - 1;
        if (index >= totalSlides) index = 0;
        currentIndex = index;

        const offset = -currentIndex * 100;
        track.style.transform = "translateX(" + offset + "%)";

        dots.forEach((dot, i) => {
          if (i === currentIndex) {
            dot.classList.remove("bg-primary-light");
            dot.classList.add("bg-accent");
          } else {
            dot.classList.remove("bg-accent");
            dot.classList.add("bg-primary-light");
          }
        });
      }

      // Botones prev/next
      if (prevBtn) {
        prevBtn.addEventListener("click", function () {
          goToSlide(currentIndex - 1);
        });
      }

      if (nextBtn) {
        nextBtn.addEventListener("click", function () {
          goToSlide(currentIndex + 1);
        });
      }

      // Dots
      dots.forEach((dot) => {
        dot.addEventListener("click", function () {
          const index = parseInt(dot.getAttribute("data-carousel-dot"), 10);
          goToSlide(index);
        });
      });

      // Auto-play suave
      let autoplayId = setInterval(function () {
        goToSlide(currentIndex + 1);
      }, 7000); // cada 7 segundos

      // Pausa cuando el mouse está encima del carrusel
      const carousel = document.getElementById("testimonios-carousel");
      if (carousel) {
        carousel.addEventListener("mouseenter", function () {
          clearInterval(autoplayId);
        });
        carousel.addEventListener("mouseleave", function () {
          autoplayId = setInterval(function () {
            goToSlide(currentIndex + 1);
          }, 7000);
        });
      }

      // Aseguramos que arranque en el slide 0
      goToSlide(0);
    });
  </script>
</body>
</html>


<body class="bg-background-main font-display">
  <div class="relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden">
    <div class="layout-container flex h-full grow flex-col">
      <div class="px-4 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-5">
        <div class="layout-content-container flex flex-col max-w-[960px] flex-1 gap-10 md:gap-16">

          <!-- NAVBAR -->
          <% unless controller_name == "sessions" && action_name == "new" && devise_controller? %>
            <%= render "shared/navbar" %>
          <% end %>


          <!-- CONTENIDO DE CADA PÁGINA -->
          <main class="flex-grow">
            <%= yield %>
          </main>
        </div>
      </div>

      <!-- FOOTER -->
      <%= render "shared/footer" %>
    </div>

    <!-- BOTÓN FLOTANTE DE CONSULTAS RÁPIDAS -->
    <div class="fixed bottom-5 right-5 z-50">
      <button
        class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full shadow-medium h-16 px-5 bg-accent text-white text-base font-bold leading-normal tracking-[0.015em] min-w-0 gap-3 pl-5 pr-6 hover:bg-purple-500">
        <span class="material-symbols-outlined text-2xl">chat</span>
        <span class="truncate">Consultas Rápidas</span>
      </button>
    </div>
  </div>
</body>
</html>
