<style>
  .leva-home {
    background: linear-gradient(180deg, #f6f2ff 0%, #ffffff 100%);
    position: relative;
    overflow: hidden;
  }

  .leva-home::before,
  .leva-home::after {
    content: "";
    position: absolute;
    width: 420px;
    height: 420px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(169, 136, 255, 0.35) 0%, rgba(255, 255, 255, 0) 70%);
    filter: blur(12px);
    z-index: 0;
  }

  .leva-home::before {
    top: -160px;
    right: -90px;
  }

  .leva-home::after {
    bottom: -160px;
    left: -50px;
  }

  .mediapp-hero-shell {
    border-radius: 2.75rem;
    padding: clamp(1.5rem, 2.5vw, 3rem);
    background: linear-gradient(135deg, rgba(248, 245, 255, 0.96), rgba(231, 239, 255, 0.96));
    box-shadow: 0 45px 95px rgba(31, 22, 73, 0.22);
    position: relative;
    overflow: hidden;
  }

  .mediapp-hero-shell::before,
  .mediapp-hero-shell::after {
    content: "";
    position: absolute;
    width: 360px;
    height: 360px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(180, 107, 255, 0.15), transparent 70%);
    filter: blur(12px);
    z-index: 0;
  }

  .mediapp-hero-shell::before {
    top: -120px;
    left: -80px;
  }

  .mediapp-hero-shell::after {
    bottom: -150px;
    right: -120px;
  }

  .mediapp-hero-shell > * {
    position: relative;
    z-index: 1;
  }

  .mediapp-hero-card {
    border-radius: 2.25rem;
    box-shadow: 0 45px 85px rgba(56, 39, 120, 0.18);
    background: rgba(255, 255, 255, 0.95);
    padding: 0.85rem;
    position: relative;
  }

  .mediapp-hero-frame {
    border-radius: 2rem;
    padding: 0;
    background: transparent;
    box-shadow: none;
  }

  .mediapp-hero-btn {
    background: linear-gradient(90deg, #b46bff, #786dff);
    border: none;
    box-shadow: 0 20px 35px rgba(120, 109, 255, 0.35);
  }

  .mediapp-nav-btn {
    border-radius: 999px;
    padding-inline: 1.5rem;
    box-shadow: 0 15px 30px rgba(122, 109, 255, 0.35);
    transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease;
  }

  .mediapp-nav-btn:hover,
  .mediapp-nav-btn:focus {
    transform: translateY(-2px);
    box-shadow: 0 20px 40px rgba(122, 109, 255, 0.45);
    opacity: 0.95;
  }

  .mediapp-outline-btn {
    border: 1px solid rgba(122, 109, 255, 0.35);
    color: #7a6dff;
    background: #fff;
  }

  .mediapp-feature-icon {
    width: 48px;
    height: 48px;
    border-radius: 1rem;
    background-color: rgba(120, 109, 255, 0.1);
    color: #7a6dff;
    flex-shrink: 0;
  }

  .mediapp-feature-icon svg {
    width: 28px;
    height: 28px;
  }

  .mediapp-service-icon {
    width: 40px;
    height: 40px;
  }

  .mediapp-logo {
    width: 46px;
    height: 46px;
    border-radius: 1rem;
    box-shadow: 0 10px 20px rgba(122, 109, 255, 0.35);
  }

  .mediapp-hero-image {
    border-radius: 1.5rem;
    border: none;
    width: 100%;
    height: 100%;
    object-fit: cover;
    box-shadow: 0 20px 40px rgba(28, 20, 70, 0.25);
  }

  .mediapp-hero-photo {
    border-radius: 1.75rem;
    overflow: hidden;
    position: relative;
    background: #fff;
  }

  .mediapp-hero-photo::after {
    content: "";
    position: absolute;
    width: 180px;
    height: 180px;
    top: -60px;
    right: -50px;
    background: radial-gradient(circle, rgba(180, 107, 255, 0.35), transparent 70%);
    pointer-events: none;
  }

  .mediapp-nav-link {
    color: #4a4a4a;
    font-weight: 600;
    text-decoration: none;
    padding: 0.35rem 0.85rem;
    border-radius: 999px;
    transition: color 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
  }

  .mediapp-nav-link:hover {
    color: #7a6dff;
    background-color: rgba(122, 109, 255, 0.12);
    box-shadow: 0 8px 20px rgba(122, 109, 255, 0.2);
  }

  .mediapp-contact-btn {
    background: #f3edff;
    color: #7a6dff;
    box-shadow: 0 10px 20px rgba(122, 109, 255, 0.2);
    border: none;
  }

  .mediapp-nav {
    position: sticky;
    top: 0;
    z-index: 1020;
    background: transparent;
    backdrop-filter: blur(12px);
    border-bottom: none;
    box-shadow: none;
  }

  .mediapp-nav-inner {
    background: rgba(255, 255, 255, 0.85);
    border-radius: 999px;
    padding: 0.5rem 1.5rem;
    border: 1px solid rgba(122, 109, 255, 0.15);
    box-shadow: 0 25px 60px rgba(29, 27, 58, 0.12);
  }

  .mediapp-contact-shell {
    position: relative;
    border-radius: 2rem;
    background: linear-gradient(135deg, #fefefe, #eef3ff);
    box-shadow: 0 35px 65px rgba(47, 31, 120, 0.08);
    overflow: hidden;
  }

  .mediapp-contact-shell::before,
  .mediapp-contact-shell::after {
    content: "";
    position: absolute;
    width: 260px;
    height: 260px;
    border-radius: 50%;
    background: rgba(180, 107, 255, 0.15);
    filter: blur(40px);
    z-index: 0;
  }

  .mediapp-contact-shell::before {
    top: -100px;
    right: -80px;
  }

  .mediapp-contact-shell::after {
    bottom: -120px;
    left: -120px;
    background: rgba(120, 109, 255, 0.12);
  }

  .mediapp-contact-shell > * {
    position: relative;
    z-index: 1;
  }

  .mediapp-social-btn {
    width: 42px;
    height: 42px;
    border-radius: 999px;
    border: 1px solid rgba(74, 74, 74, 0.2);
    background-color: #fff;
    color: #1f152c;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-shadow: 0 8px 18px rgba(17, 12, 34, 0.12);
  }

  .mediapp-social-btn:hover,
  .mediapp-social-btn:focus {
    transform: translateY(-2px);
    box-shadow: 0 12px 24px rgba(17, 12, 34, 0.18);
  }

  .mediapp-social-btn svg {
    width: 20px;
    height: 20px;
  }

  .mediapp-contact-badge {
    background: rgba(122, 109, 255, 0.15);
    color: #7362ff;
    border-radius: 999px;
    padding: 0.3rem 0.95rem;
    font-weight: 600;
    font-size: 0.85rem;
  }

  .mediapp-contact-chip {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 1.25rem;
    border: 1px solid rgba(122, 109, 255, 0.12);
    padding: 0.9rem 1.2rem;
    box-shadow: 0 18px 35px rgba(24, 16, 66, 0.08);
    min-width: 240px;
  }

  .mediapp-contact-panel {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 1.75rem;
    border: 1px solid rgba(122, 109, 255, 0.12);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
  }

  .mediapp-contact-icon {
    width: 44px;
    height: 44px;
    border-radius: 1rem;
    background: rgba(122, 109, 255, 0.12);
    color: #7a6dff;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .mediapp-contact-signal {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #4cd964;
    box-shadow: 0 0 0 rgba(76, 217, 100, 0.4);
    animation: mediappPulse 1.8s infinite;
  }

  @keyframes mediappPulse {
    0% {
      box-shadow: 0 0 0 0 rgba(76, 217, 100, 0.4);
    }
    70% {
      box-shadow: 0 0 0 12px rgba(76, 217, 100, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(76, 217, 100, 0);
    }
  }

  .mediapp-testimonial-shell {
    position: relative;
    border-radius: 2rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(238, 241, 248, 0.95));
    box-shadow: 0 35px 65px rgba(47, 31, 120, 0.1);
    overflow: hidden;
  }

  .mediapp-testimonial-shell::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top right, rgba(193, 199, 226, 0.35), transparent 55%);
    pointer-events: none;
  }

  .mediapp-testimonial-card {
    background: #fff;
    border-radius: 1.5rem;
    box-shadow: 0 20px 45px rgba(24, 16, 66, 0.08);
    position: relative;
    z-index: 1;
  }

  .mediapp-doctor-card {
    border: 1px solid rgba(122, 109, 255, 0.12);
    border-radius: 2rem;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.98), rgba(245, 241, 255, 0.98));
    box-shadow: 0 25px 55px rgba(24, 16, 66, 0.15);
  }

  .mediapp-doctor-header h5 {
    font-size: 1.5rem;
  }

  .mediapp-doctor-speciality {
    font-weight: 600;
    color: #7a6dff;
  }

  .mediapp-doctor-location {
    font-size: 1.05rem;
    color: #3a3456;
    display: flex;
    align-items: center;
    gap: 0.65rem;
  }

  .mediapp-doctor-location svg {
    width: 20px;
    height: 20px;
    color: #7a6dff;
    flex-shrink: 0;
  }

  .mediapp-doctor-chip {
    border-radius: 999px;
    background: rgba(122, 109, 255, 0.08);
    padding: 0.4rem 1rem;
    font-size: 0.95rem;
    color: #6b6789;
    display: inline-flex;
    gap: 0.35rem;
    align-items: center;
  }

  .mediapp-doctor-chip strong {
    color: #332f5f;
  }

  .mediapp-review-card {
    border: 1px solid rgba(122, 109, 255, 0.12);
    border-radius: 2rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(239, 237, 255, 0.98));
    box-shadow: 0 30px 65px rgba(24, 16, 66, 0.12);
  }

  .mediapp-review-rating {
    min-width: 160px;
  }

  .mediapp-review-rating small {
    letter-spacing: 0.02em;
  }

  .mediapp-review-quote {
    font-size: 1.2rem;
    line-height: 1.85;
    color: #2f2c4a;
  }

  .mediapp-testimonial-avatar {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    border: 3px solid #fff;
    box-shadow: 0 15px 35px rgba(35, 23, 89, 0.25);
    overflow: hidden;
    flex-shrink: 0;
    background: linear-gradient(120deg, #c284ff, #9f7bff);
  }

  .mediapp-testimonial-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .mediapp-testimonial-quote {
    font-size: 1.15rem;
    color: #3a3456;
    line-height: 1.7;
  }

  .mediapp-testimonial-role {
    color: #7f7f98;
  }

  .mediapp-testimonial-stars svg {
    width: 20px;
    height: 20px;
    fill: #f9b233;
  }

  .mediapp-carousel-control {
    width: 3rem;
    height: 3rem;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(122, 109, 255, 0.25);
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.5);
  }

  .mediapp-carousel-control span.carousel-control-prev-icon,
  .mediapp-carousel-control span.carousel-control-next-icon {
    filter: invert(1);
  }

  .mediapp-hero-badge {
    background: rgba(122, 109, 255, 0.15);
    color: #7a6dff;
    font-weight: 600;
    border-radius: 999px;
    padding: 0.35rem 0.95rem;
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
  }

  .mediapp-gradient-card {
    border-radius: 1.5rem;
    border: 1px solid rgba(122, 109, 255, 0.08);
    background: linear-gradient(180deg, #ffffff, #f6f2ff);
    box-shadow: 0 25px 45px rgba(24, 16, 66, 0.12);
  }

  .mediapp-stat-value {
    font-size: 2.1rem;
    font-weight: 700;
    color: #1d1b3a;
  }

  .mediapp-floating-btn {
    position: fixed;
    right: 1.5rem;
    bottom: 6.5rem;
    z-index: 1050;
    border: none;
    background-image: linear-gradient(115deg, #c47bff, #786dff);
    box-shadow: 0 15px 35px rgba(122, 109, 255, 0.35);
    padding: 0.65rem 1.25rem;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .mediapp-floating-btn:hover,
  .mediapp-floating-btn:focus-visible {
    transform: translateY(-3px);
    box-shadow: 0 25px 55px rgba(51, 45, 99, 0.45);
  }

  .mediapp-floating-arrow {
    width: 36px;
    height: 36px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.95);
    color: #6b5de9;
    box-shadow: 0 10px 20px rgba(17, 11, 48, 0.2);
  }

  .mediapp-floating-arrow svg {
    flex: none;
  }


  section[id] {
    scroll-margin-top: 200px;
  }

  .leva-home main {
    padding-top: 1.5rem;
  }

  .mediapp-map-card {
    border-radius: 1.5rem;
    background: #fff;
    box-shadow: 0 25px 45px rgba(24, 16, 66, 0.12);
    border: 1px solid rgba(122, 109, 255, 0.08);
  }

  #medical-institutes-map {
    width: 100%;
    height: 420px;
    border-radius: 1.2rem;
  }

  .mediapp-location-icon {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: rgba(122, 109, 255, 0.15);
    color: #7a6dff;
  }

  .mediapp-location-item {
    border: none;
    background: transparent;
    width: 100%;
    text-align: left;
    padding: 0;
    border-radius: 1rem;
    transition: background 0.2s ease, box-shadow 0.2s ease;
  }

  .mediapp-location-item:focus,
  .mediapp-location-item:hover {
    outline: none;
    background: rgba(122, 109, 255, 0.07);
    box-shadow: 0 10px 25px rgba(122, 109, 255, 0.1);
  }

  .mediapp-location-details .text-secondary {
    margin-bottom: 0.1rem !important;
  }

  .mediapp-location-details small {
    display: block;
    margin-top: 0;
    line-height: 1.2;
  }

  .mediapp-plan-price {
    border-top: 1px solid rgba(122, 109, 255, 0.12);
    margin-top: 1.25rem;
    padding-top: 1rem;
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
  }

  .mediapp-plan-price .amount {
    font-size: 1.8rem;
    font-weight: 700;
    color: #2c2359;
  }

  .mediapp-plan-price .billing {
    font-size: 0.95rem;
    color: #6c6a8a;
    font-weight: 600;
  }


  .mediapp-section-card {
    border-radius: 1.5rem;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .mediapp-section-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 25px 45px rgba(24, 16, 66, 0.18);
  }

  .mediapp-section-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
  }

  .landing-chat {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 1050;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 12px;
  }

  .landing-chat__panel {
    width: min(360px, 92vw);
    background: #ffffff;
    border-radius: 20px;
    border: 1px solid rgba(122, 109, 255, 0.18);
    box-shadow: 0 20px 60px rgba(29, 27, 58, 0.18);
    padding: 18px;
    margin-bottom: 12px;
    transform: translateY(15px);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s ease, transform 0.25s ease;
  }

  .landing-chat__panel.is-open {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
  }

  .landing-chat__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
  }

  .landing-chat__title {
    font-weight: 700;
    margin: 0;
  }

  .landing-chat__messages {
    max-height: 320px;
    overflow-y: auto;
    display: grid;
    gap: 10px;
    padding-bottom: 6px;
  }

  .landing-chat__message {
    border-radius: 16px;
    padding: 12px 14px;
    font-size: 0.94rem;
    line-height: 1.35;
    box-shadow: 0 10px 25px rgba(24, 16, 66, 0.08);
  }

  .landing-chat__message--assistant {
    background: rgba(122, 109, 255, 0.1);
    border: 1px solid rgba(122, 109, 255, 0.18);
  }

  .landing-chat__message--user {
    background: linear-gradient(120deg, #9c7bff, #7c78ff);
    color: #fff;
    border: none;
    justify-self: end;
    text-align: right;
  }

  .landing-chat__message-author {
    font-weight: 600;
    margin-bottom: 4px;
    font-size: 0.8rem;
    color: #7a6dff;
  }

  .landing-chat__message--user .landing-chat__message-author {
    color: rgba(255, 255, 255, 0.9);
  }

  .landing-chat__message-body {
    color: #3d3d4e;
    margin: 0;
  }

  .landing-chat__form textarea {
    width: 100%;
    border: 1px solid rgba(0, 0, 0, 0.12);
    border-radius: 12px;
    padding: 10px 12px;
    resize: none;
    min-height: 70px;
  }

  .landing-chat__error {
    color: #d9534f;
    font-size: 0.85rem;
    min-height: 18px;
    margin-top: 4px;
  }

  .landing-chat__submit {
    width: 100%;
    border: none;
    border-radius: 999px;
    background: linear-gradient(90deg, #b46bff, #786dff);
    padding: 10px 16px;
    color: #fff;
    font-weight: 600;
    margin-top: 10px;
  }

  .landing-chat__submit:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .landing-chat .mediapp-floating-btn {
    position: relative;
    inset: 0;
    bottom: unset;
    right: unset;
  }

  @media (max-width: 576px) {
    .landing-chat {
      right: 12px;
      bottom: 12px;
    }
  }

</style>

<% map_markers = (@medical_institutes || []).map do |institute|
     {
       id: institute.id,
       name: institute.name,
       address: institute.address,
       latitude: institute.latitude,
       longitude: institute.longitude
     }
   end %>
<% map_center = map_markers.first ? [map_markers.first[:latitude], map_markers.first[:longitude]] : [-34.6037, -58.3816] %>

<div class="leva-home py-4 min-vh-100">
  <div id="leva-home-top"></div>
  <nav class="mediapp-nav w-100">
    <div class="container mediapp-nav-inner d-flex flex-column flex-lg-row justify-content-between align-items-center gap-4 py-3">
      <div class="d-flex align-items-center gap-3">
        <%= link_to root_path, class: "d-inline-flex align-items-center gap-3 text-decoration-none" do %>
          <%= image_tag "logo_leva.png", class: "mediapp-logo", alt: "Leva logo" %>
          <span class="fw-semibold fs-4 text-dark mb-0">LEVA</span>
        <% end %>
      </div>
      <div class="d-flex align-items-center gap-4 text-center flex-wrap">
        <a class="mediapp-nav-link" href="#inicio" data-scroll-target="#inicio">Inicio</a>
        <a class="mediapp-nav-link" href="#about" data-scroll-target="#about">Sobre Nosotros</a>
        <a class="mediapp-nav-link" href="#servicios" data-scroll-target="#servicios">Servicios</a>
        <a class="mediapp-nav-link" href="#testimonios" data-scroll-target="#testimonios">Testimonios</a>
      </div>
      <div class="d-flex align-items-center gap-3 flex-wrap justify-content-end">
        <%= link_to "Contáctanos", "#contacto", class: "btn btn-sm text-white mediapp-hero-btn mediapp-nav-btn px-4", data: { scroll_target: "#contacto" } %>
        <% if user_signed_in? %>
          <div class="dropdown">
            <a href="#" class="d-inline-block" id="levaNavbarDropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <%= image_tag "https://kitt.lewagon.com/placeholder/users/ssaunier", class: "avatar", alt: "Menú de usuario" %>
            </a>
            <div class="dropdown-menu dropdown-menu-end shadow-sm border-0 mt-2" aria-labelledby="levaNavbarDropdown">
              <%= link_to "Action", "#", class: "dropdown-item" %>
              <%= link_to "Another action", "#", class: "dropdown-item" %>
              <%= link_to "Log out", destroy_user_session_path, data: { turbo_method: :delete }, class: "dropdown-item" %>
            </div>
          </div>
        <% else %>
          <%= link_to "Iniciar Sesión", new_user_session_path, class: "btn btn-sm text-white mediapp-hero-btn mediapp-nav-btn px-4" %>
        <% end %>
      </div>
    </div>
  </nav>

  <main class="container">
    <% avatar_icon_sets = {
      patient: [
        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjY0IiBmaWxsPSIjZjVmMWZmIi8+PHBhdGggZD0iTTU4IDI4aDEydjcySDU4eiIgZmlsbD0iIzdhNmRmZiIvPjxwYXRoIGQ9Ik0yOCA1OGg3MnYxMkgyOHoiIGZpbGw9IiM3YTZkZmYiLz48L3N2Zz4=',
        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjY0IiBmaWxsPSIjZmRmMmY4Ii8+PHBhdGggZD0iTTU2IDMwaDE2djY4SDU2eiIgZmlsbD0iI2ZmN2ViOSIvPjxwYXRoIGQ9Ik0zMCA1Nmg2OHYxNkgzMHoiIGZpbGw9IiNmZjdlYjkiLz48L3N2Zz4=',
        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjMyIiBmaWxsPSIjZWVmOGZmIi8+PHBhdGggZD0iTTY0IDI2Yy00Ljk3IDAtOSA0LjAzLTkgOXYxN0gzOGMtNC45NyAwLTkgNC4wMy05IDl2Nmg3MHYtNmMwLTQuOTctNC4wMy05LTktOUg3M1YzNWMwLTQuOTctNC4wMy05LTktOXpNMjkgNzN2MjloNzBWNzNIMjl6bTE4IDEwaDh2MTJoLThWODN6bTI0IDBoOHYxMmgtOFY4M3oiIGZpbGw9IiMxZDliZjAiLz48L3N2Zz4='
      ],
      doctor: [
        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjI4IiBmaWxsPSIjZWRmMWZmIi8+PGNpcmNsZSBjeD0iNDQiIGN5PSI0OCIgcj0iMTYiIGZpbGw9IiM3YTZkZmYiLz48cGF0aCBkPSJNNDQgNjR2MjBjMCAxMS4wNDYgOC45NTQgMjAgMjAgMjBzMjAtOC45NTQgMjAtMjB2LThINzB2OGMwIDMuMzE0LTIuNjg2IDYtNiA2cy02LTIuNjg2LTYtNlY2NGgtMTR6IiBmaWxsPSIjN2E2ZGZmIi8+PHBhdGggZD0iTTcyIDMyaDE0djMySDcyeiIgZmlsbD0iI2M3YmVmZCIvPjwvc3ZnPg==',
        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjQwIiBmaWxsPSIjZThmYmZmIi8+PGNpcmNsZSBjeD0iNjQiIGN5PSI0MCIgcj0iMTgiIGZpbGw9IiMwMGJjZDQiLz48cGF0aCBkPSJNMzIgODhjMC0xMy4yNTUgMTAuNzQ1LTI0IDI0LTI0aDE2YzEzLjI1NSAwIDI0IDEwLjc0NSAyNCAyNHYxMkgzMlY4OHoiIGZpbGw9IiMwMGJjZDQiLz48cGF0aCBkPSJNODAgOTJhOCA4IDAgMSAxLTE2IDAiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSI2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGZpbGw9Im5vbmUiLz48Y2lyY2xlIGN4PSI4OCIgY3k9IjkyIiByPSIxMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDBiY2Q0IiBzdHJva2Utd2lkdGg9IjYiLz48Y2lyY2xlIGN4PSI4OCIgY3k9IjkyIiByPSI0IiBmaWxsPSIjMDBiY2Q0Ii8+PC9zdmc+',
        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjI4IiBmaWxsPSIjZmZmNGU2Ii8+PGNpcmNsZSBjeD0iNjQiIGN5PSI0NCIgcj0iMTgiIGZpbGw9IiNmZjk4MDAiLz48cGF0aCBkPSJNMjggOTZjMC0xOS44ODIgMTYuMTE4LTM2IDM2LTM2czM2IDE2LjExOCAzNiAzNnY4SDI4di04eiIgZmlsbD0iI2ZmOTgwMCIvPjxwYXRoIGQ9Ik05MiA3NmwxMiAxMi0xMiAxMiIgc3Ryb2tlPSIjZmY5ODAwIiBzdHJva2Utd2lkdGg9IjgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbD0ibm9uZSIvPjwvc3ZnPg=='
      ],
      clinic: [
        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjI0IiBmaWxsPSIjZjNmZmYzIi8+PHJlY3QgeD0iMjgiIHk9IjQ0IiB3aWR0aD0iNzIiIGhlaWdodD0iNTYiIHJ4PSI2IiBmaWxsPSIjNGNhZjUwIi8+PHJlY3QgeD0iNTYiIHk9IjMyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IiM0Y2FmNTAiLz48cGF0aCBkPSJNNTAgNjJoMjh2OEg1MHpNNTAgNzhoMjh2OEg1MHoiIGZpbGw9IiNjOGY3YzUiLz48L3N2Zz4=',
        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjMyIiBmaWxsPSIjZWVmMmZmIi8+PHJlY3QgeD0iMjQiIHk9IjQ4IiB3aWR0aD0iODAiIGhlaWdodD0iNDgiIHJ4PSI4IiBmaWxsPSIjNWM2YmMwIi8+PHJlY3QgeD0iNDgiIHk9IjMyIiB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIGZpbGw9IiM1YzZiYzAiLz48cGF0aCBkPSJNNDAgNjRoMTZ2MjRINDB6TTcyIDY0aDE2djI0SDcyeiIgZmlsbD0iI2JmYzRmZiIvPjwvc3ZnPg==',
        'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjI4IiBmaWxsPSIjZmVmNmVkIi8+PHJlY3QgeD0iMjAiIHk9IjUyIiB3aWR0aD0iODgiIGhlaWdodD0iNDQiIHJ4PSIxMCIgZmlsbD0iI2ZmYjc0ZCIvPjxyZWN0IHg9IjUyIiB5PSIzMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjIyIiBmaWxsPSIjZmZiNzRkIi8+PHBhdGggZD0iTTQ2IDcwaDEydjE4SDQ2ek03MCA3MGgxMnYxOEg3MHoiIGZpbGw9IiNmZmUwYjIiLz48L3N2Zz4='
      ]
    } %>
    <section id="inicio" class="mb-5 position-relative">
      <div class="mediapp-hero-shell">
        <div class="row align-items-center g-5">
          <div class="col-lg-6">
            <span class="mediapp-hero-badge mb-3">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 20s-6.5-4.35-6.5-9.5A4.5 4.5 0 0 1 10 6a4.3 4.3 0 0 1 2 1 4.3 4.3 0 0 1 2-1 4.5 4.5 0 0 1 4.5 4.5C18.5 15.65 12 20 12 20z" stroke="#7a6dff" stroke-width="1.5" fill="none"/>
                <path d="M9 12h2l1-2 1 4 1-2h2" stroke="#7a6dff" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Cuidado confiable
            </span>
            <h1 class="display-4 fw-bold mb-3">Tu salud, a un clic de distancia</h1>
            <p class="fs-5 text-secondary mb-4">
              Agenda citas con tus especialistas de confianza de forma rápida y segura. Simplificamos la experiencia médica con tecnología humana.
            </p>
            <div class="d-flex flex-wrap gap-3">
              <a class="btn btn-lg text-white mediapp-hero-btn" data-scroll-target="#ubicaciones">Ver ubicaciones</a>
              <a class="btn btn-lg mediapp-outline-btn px-4" href="#doctores" data-scroll-target="#doctores">Ver plantilla medica</a>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="mediapp-hero-card">
              <div class="mediapp-hero-frame">
                <div class="ratio ratio-4x3 mediapp-hero-photo">
                  <%= image_tag "Foto_HomePage_Dos.png", class: "mediapp-hero-image", alt: "Equipo médico atendiendo pacientes en LEVA" %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="row row-cols-2 row-cols-md-4 g-4 mb-5">
      <div class="col">
        <div class="mediapp-gradient-card text-center p-3 h-100">
          <div class="mediapp-stat-value">120K+</div>
          <p class="text-secondary mb-0">Citas coordinadas</p>
        </div>
      </div>
      <div class="col">
        <div class="mediapp-gradient-card text-center p-3 h-100">
          <div class="mediapp-stat-value">350</div>
          <p class="text-secondary mb-0">Especialistas aliados</p>
        </div>
      </div>
      <div class="col">
        <div class="mediapp-gradient-card text-center p-3 h-100">
          <div class="mediapp-stat-value">4.9/5</div>
          <p class="text-secondary mb-0">Satisfacción promedio</p>
        </div>
      </div>
      <div class="col">
        <div class="mediapp-gradient-card text-center p-3 h-100">
          <div class="mediapp-stat-value">24/7</div>
          <p class="text-secondary mb-0">Soporte inteligente</p>
        </div>
      </div>
    </section>

    <section id="ubicaciones" class="py-5">
      <div class="row g-4 align-items-stretch">
        <div class="col-lg-7">
          <div class="mediapp-map-card p-3 h-100 d-flex flex-column gap-3">
            <div>
              <span class="mediapp-hero-badge mb-2">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 20s-6.5-4.35-6.5-9.5A4.5 4.5 0 0 1 10 6a4.3 4.3 0 0 1 2 1 4.3 4.3 0 0 1 2-1 4.5 4.5 0 0 1 4.5 4.5C18.5 15.65 12 20 12 20z" stroke="#7a6dff" stroke-width="1.5" fill="none"/>
                  <path d="M11.5 9.5a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0-3 0" stroke="#7a6dff" stroke-width="1.5" fill="none"/>
                </svg>
                Clínicas cercanas
              </span>
              <h2 class="fw-bold mb-1">Mapa de Instituciones</h2>
              <p class="text-secondary mb-0">Visualiza de un vistazo dónde están ubicadas nuestras clínicas registradas.</p>
            </div>
            <div
              id="medical-institutes-map"
              data-controller="map"
              data-map-markers-value="<%= json_escape(map_markers.to_json) %>"
              data-map-center-value="<%= json_escape(map_center.to_json) %>"
              data-map-zoom-value="5"
            ></div>
          </div>
        </div>
        <div class="col-lg-5">
          <div class="card border-0 shadow-sm h-100 p-4">
            <h3 class="fw-bold mb-3">Nuestras ubicaciones</h3>
            <p class="text-secondary">Cada clínica cuenta con profesionales y especialidades listas para atenderte.</p>
            <% if map_markers.present? %>
              <ul class="list-unstyled mediapp-location-list mt-4">
                <% @medical_institutes.each do |institute| %>
                  <li class="mb-4">
                    <button
                      class="mediapp-location-item d-flex gap-3 align-items-start"
                      type="button"
                      data-action="click->map#focusMarker keypress->map#focusMarker"
                      data-map-marker-id-param="<%= institute.id %>"
                    >
                      <div class="mediapp-location-icon d-flex align-items-center justify-content-center flex-shrink-0">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M12 20s-6.5-4.35-6.5-9.5A4.5 4.5 0 0 1 10 6a4.3 4.3 0 0 1 2 1 4.3 4.3 0 0 1 2-1 4.5 4.5 0 0 1 4.5 4.5C18.5 15.65 12 20 12 20z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                          <path d="M11.5 9.5a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0-3 0" stroke="currentColor" stroke-width="1.5" fill="none"/>
                        </svg>
                      </div>
                      <div class="mediapp-location-details">
                        <h5 class="fw-semibold mb-1 text-dark"><%= institute.name %></h5>
                        <p class="text-secondary mb-1"><%= institute.address %></p>
                        <small class="text-muted"><strong>Tel:</strong> <%= institute.phone_number %></small>
                      </div>
                    </button>
                  </li>
                <% end %>
              </ul>
            <% else %>
              <div class="alert alert-light border mt-4" role="alert">
                Aún no hay ubicaciones con coordenadas disponibles. Actualiza las instituciones para mostrar el mapa.
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </section>

    <section id="doctores" class="py-5">
      <div class="mb-4 text-center">
        <span class="mediapp-hero-badge mediapp-section-badge mb-3">
          Nuestro equipo
        </span>
        <h2 class="fw-bold mb-2">Doctores disponibles</h2>
        <p class="text-secondary fs-5 mb-0">
          Conoce a los especialistas que pueden atenderte hoy mismo.
        </p>
      </div>

      <div class="mediapp-testimonial-shell p-4 p-md-5">
        <% if @featured_doctors.present? %>
          <% doctor_avatar_icons = avatar_icon_sets[:doctor] %>
          <% doctor_groups = @featured_doctors.each_slice(3).to_a %>
          <div
            id="levaDoctorsCarousel"
            class="carousel slide"
            data-bs-ride="carousel"
            data-bs-interval="8000"
            data-bs-touch="true"
          >
            <div class="carousel-indicators">
              <% doctor_groups.each_with_index do |group, index| %>
                <% label = group.map { |doctor| ("#{doctor.user&.name} #{doctor.user&.last_name}".strip.presence || 'Doctor') }.join(", ") %>
                <button
                  type="button"
                  data-bs-target="#levaDoctorsCarousel"
                  data-bs-slide-to="<%= index %>"
                  class="<%= 'active' if index.zero? %>"
                  aria-current="<%= index.zero? %>"
                  aria-label="<%= label %>"
                ></button>
              <% end %>
            </div>
            <div class="carousel-inner px-2 px-md-5">
              <% doctor_groups.each_with_index do |group, group_index| %>
                <div class="carousel-item <%= 'active' if group_index.zero? %>">
                  <div class="row g-4 row-cols-1 row-cols-md-2 row-cols-xl-3">
                    <% group.each do |doctor| %>
                      <% doctor_name = "#{doctor.user&.name} #{doctor.user&.last_name}".strip %>
                      <% speciality = doctor.speciality&.humanize %>
                      <% institute = doctor.medical_institute %>
                      <% avatar_options = doctor_avatar_icons.presence || avatar_icon_sets[:patient] %>
                      <% avatar_url = avatar_options.sample %>
                      <% initials = [doctor.user&.name&.first, doctor.user&.last_name&.first].compact.join %>
                      <% institute_name = institute&.name || 'Instituto disponible' %>
                      <% institute_address = institute&.address || 'Sin dirección registrada' %>
                      <% doctor_registration = doctor.medical_registration.presence || 'Sin datos' %>
                      <% phone_number = institute&.phone_number %>
                      <div class="col d-flex">
                        <div class="mediapp-testimonial-card mediapp-doctor-card mx-auto p-4 p-md-5 w-100 h-100">
                          <div class="mediapp-doctor-header d-flex align-items-center gap-3 mb-4">
                            <div class="mediapp-testimonial-avatar">
                              <img src="<%= avatar_url %>" alt="Ícono del profesional <%= doctor_name.presence || initials.presence || 'LEVA' %>" loading="lazy">
                            </div>
                            <div>
                              <h5 class="mb-1 fw-bold"><%= doctor_name.presence || 'Doctor disponible' %></h5>
                              <div class="mediapp-doctor-speciality"><%= speciality || 'Especialidad no registrada' %></div>
                            </div>
                          </div>
                          <p class="mediapp-doctor-location mb-4">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                              <path d="M12 20s-6.5-4.35-6.5-9.5A4.5 4.5 0 0 1 10 6a4.3 4.3 0 0 1 2 1 4.3 4.3 0 0 1 2-1 4.5 4.5 0 0 1 4.5 4.5C18.5 15.65 12 20 12 20z" stroke="currentColor" stroke-width="1.6" fill="none"/>
                              <circle cx="12" cy="10.5" r="1.6" stroke="currentColor" stroke-width="1.6" fill="none"/>
                            </svg>
                            <span>Atiende en <strong><%= institute_name %></strong> · <span class="text-secondary"><%= institute_address %></span></span>
                          </p>
                          <div class="d-flex flex-wrap gap-3">
                            <div class="mediapp-doctor-chip">
                              Matrícula
                              <strong><%= doctor_registration %></strong>
                            </div>
                            <% if phone_number.present? %>
                              <div class="mediapp-doctor-chip">
                                Tel
                                <strong><%= phone_number %></strong>
                              </div>
                            <% end %>
                          </div>
                        </div>
                      </div>
                    <% end %>
                  </div>
                </div>
              <% end %>
            </div>
            <button class="carousel-control-prev mediapp-carousel-control" type="button" data-bs-target="#levaDoctorsCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Anterior</span>
            </button>
            <button class="carousel-control-next mediapp-carousel-control" type="button" data-bs-target="#levaDoctorsCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Siguiente</span>
            </button>
          </div>
        <% else %>
          <div class="alert alert-light border mb-0" role="alert">
            Aún no hay doctores disponibles para mostrar en este momento.
          </div>
        <% end %>
      </div>
    </section>

    <section id="about" class="py-5">
  <div class="container">
    <div class="row align-items-center gy-4">
      <div class="col-lg-5">
        <span class="mediapp-hero-badge mediapp-section-badge mb-3">
          Cuidado confiable
        </span>

        <h2 class="fw-bold mb-3">Sobre Nosotros</h2>

        <p class="text-secondary fs-5 mb-3">
          Nuestra misión es simplificar el acceso a la atención médica, conectando a pacientes y doctores de manera eficiente.
        </p>

        <p class="text-secondary mb-0">
          Creemos en un sistema de salud donde la tecnología facilita el cuidado, permitiéndote gestionar tus citas con total tranquilidad y seguridad.
        </p>
      </div>

      <div class="col-lg-7">
        <div class="row g-3">
          <div class="col-md-6">
            <div class="mediapp-gradient-card mediapp-section-card h-100 p-4">
              <div class="d-flex align-items-center mb-3">
                <div class="mediapp-feature-icon d-flex align-items-center justify-content-center me-3">
                  <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M13 2L4 14h6l-1 8 9-12h-6z" />
                  </svg>
                </div>
                <h5 class="fw-bold mb-0">Fácil y rápido</h5>
              </div>
              <p class="text-secondary mb-0">
                Encuentra disponibilidad y agenda tu cita en menos de un minuto.
              </p>
            </div>
          </div>

          <div class="col-md-6">
            <div class="mediapp-gradient-card mediapp-section-card h-100 p-4">
              <div class="d-flex align-items-center mb-3">
                <div class="mediapp-feature-icon d-flex align-items-center justify-content-center me-3">
                  <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M12 2l8 4v6c0 5.27-3.52 10.01-8 11-4.48-0.99-8-5.73-8-11V6l8-4zm0 2.18L6 7.33v4.67c0 4.18 2.72 8.03 6 9.02 3.28-0.99 6-4.84 6-9.02V7.33l-6-3.15zm-1.25 9.82l-2.5-2.5L9.7 10.05l1.05 1.05 3.55-3.55L15.75 9l-5 5z" />
                  </svg>
                </div>
                <h5 class="fw-bold mb-0">Especialistas de confianza</h5>
              </div>
              <p class="text-secondary mb-0">
                Accede a una red verificada de profesionales médicos en diversas especialidades.
              </p>
            </div>
          </div>


          <div class="col-md-12">
            <div class="mediapp-gradient-card mediapp-section-card h-100 p-4">
              <div class="d-flex align-items-center mb-3">
                <div class="mediapp-feature-icon mediapp-service-icon d-flex align-items-center justify-content-center me-3">
                  <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M17 9h-1V7a4 4 0 00-8 0v2H7a2 2 0 00-2 2v9a2 2 0 002 2h10a2 2 0 002-2v-9a2 2 0 00-2-2zm-7-2a2 2 0 014 0v2h-4V7zm2 11a2 2 0 110-4 2 2 0 010 4z"/>
                  </svg>
                </div>
                <h5 class="fw-bold mb-0">Seguridad garantizada</h5>
              </div>
              <p class="text-secondary mb-0">
                Tus datos personales y médicos están protegidos con los más altos estándares.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


    <section id="servicios" class="py-5">
  <div class="container">
    <div class="mb-4 text-center">
      <span class="mediapp-hero-badge mediapp-section-badge mb-3">
        Planes pensados para ti
      </span>
      <h2 class="fw-bold mb-2">Servicios</h2>
      <p class="text-secondary fs-5 mb-0">
        Planes flexibles diseñados para adaptarse a cada tipo de paciente o institución.
      </p>
    </div>


    <div class="row g-3">
      <div class="col-md-4">
        <div class="mediapp-gradient-card mediapp-section-card h-100">
          <div class="card-body p-4">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <div>
                <h5 class="fw-bold mb-1">Planes anuales</h5>
                <p class="small text-muted mb-0">
                  Ideal para pacientes con seguimiento constante.
                </p>
              </div>
              <div class="mediapp-feature-icon mediapp-service-icon d-flex align-items-center justify-content-center">
                <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z" />
                </svg>
              </div>
            </div>
            <p class="text-secondary mb-0">
              Cobertura completa durante todo el año con seguimiento y consultas ilimitadas.
            </p>
            <div class="mediapp-plan-price">
              <span class="amount">2700 U$S</span>
              <span class="billing text-uppercase small fw-semibold">Pago anual</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Planes por grupo médico -->
      <div class="col-md-4">
        <div class="mediapp-gradient-card mediapp-section-card h-100">
          <div class="card-body p-4">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <div>
                <h5 class="fw-bold mb-1">Planes por grupo médico</h5>
                <p class="small text-muted mb-0">
                  Pensado para equipos y especialidades.
                </p>
              </div>
              <div class="mediapp-feature-icon mediapp-service-icon d-flex align-items-center justify-content-center">
                <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z" />
                </svg>
              </div>
            </div>
            <p class="text-secondary mb-0">
              Soluciones para clínicas y especialidades que necesitan coordinar agenda y pacientes.
            </p>
            <div class="mediapp-plan-price">
              <span class="amount">250 U$S</span>
              <span class="billing text-uppercase small fw-semibold">Por mes</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="mediapp-gradient-card mediapp-section-card h-100">
          <div class="card-body p-4">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <div>
                <h5 class="fw-bold mb-1">Planes personalizados</h5>
                <p class="small text-muted mb-0">
                  A la medida de tu institución.
                </p>
              </div>
              <div class="mediapp-feature-icon mediapp-service-icon d-flex align-items-center justify-content-center">
                <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z" />
                </svg>
              </div>
            </div>
            <p class="text-secondary mb-0">
              Opciones ajustadas a tus necesidades específicas, con módulos y beneficios a medida.
            </p>
            <div class="mediapp-plan-price">
              <span class="amount">320 U$S</span>
              <span class="billing text-uppercase small fw-semibold">Por mes</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


    <section id="testimonios" class="py-5">
      <div class="mb-4 text-center">
        <h2 class="fw-bold">Testimonios</h2>
        <p class="text-secondary fs-5 mb-0">Lo que nuestros usuarios dicen sobre su experiencia con LEVA.</p>
      </div>
      <% testimonials = [
        {
          name: "Carolina M.",
          role: "Paciente de Cardiología",
          quote: "\"Con LEVA pude agendar mi consulta en minutos. El proceso fue muy simple y seguro.\"",
          label: "Carolina",
          type: :patient
        },
        {
          name: "Tomás R.",
          role: "Paciente de Neurología",
          quote: "\"Los especialistas verificados me dieron la confianza que necesitaba para hacer seguimiento.\"",
          label: "Tomás",
          type: :patient
        },
        {
          name: "Gabriela S.",
          role: "Paciente de Pediatría",
          quote: "\"La seguridad de mis datos y la atención personalizada son excelentes.\"",
          label: "Gabriela",
          type: :patient
        },
        {
          name: "Dra. Valeria Ruiz",
          role: "Cardióloga pediátrica",
          quote: "\"Con LEVA puedo hacer seguimiento remoto a mis pacientes y compartir informes con sus familias en segundos.\"",
          label: "Valeria",
          type: :doctor
        },
        {
          name: "Dr. Miguel Núñez",
          role: "Director médico NeuroPlus",
          quote: "\"La sincronización con nuestro sistema de historias clínicas redujo tiempos de espera y mejoró la adherencia a tratamientos.\"",
          label: "Miguel",
          type: :doctor
        },
        {
          name: "Clínica Aurora",
          role: "Centro integral asociado",
          quote: "\"Coordinamos cirugías y turnos ambulatorios con mayor precisión. Nuestro equipo administrativo ganó horas valiosas.\"",
          label: "Clínica Aurora",
          type: :clinic
        },
        {
          name: "Red Salud Viva",
          role: "Clínica aliada",
          quote: "\"Integramos todas nuestras sedes en un mismo panel y los pacientes reservan con cualquier especialidad desde el celular.\"",
          label: "Red Salud Viva",
          type: :clinic
        }
      ] %>
      <% testimonial_avatar_pools = avatar_icon_sets %>
      <% testimonial_chunks = testimonials.each_slice(3).to_a %>
      <div class="mediapp-testimonial-shell p-4 p-md-5">
        <div id="levaTestimonialCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="7000" data-bs-touch="true">
          <div class="carousel-indicators">
            <% testimonial_chunks.each_with_index do |chunk, index| %>
              <% label = chunk.map { |testimony| testimony[:label] }.join(", ") %>
              <button
                type="button"
                data-bs-target="#levaTestimonialCarousel"
                data-bs-slide-to="<%= index %>"
                class="<%= 'active' if index.zero? %>"
                aria-current="<%= index.zero? %>"
                aria-label="<%= label %>"
              ></button>
            <% end %>
          </div>
          <div class="carousel-inner px-2 px-md-5">
            <% testimonial_chunks.each_with_index do |chunk, chunk_index| %>
              <div class="carousel-item <%= 'active' if chunk_index.zero? %>">
                <div class="row g-4 row-cols-1 row-cols-md-2 row-cols-xl-3">
                  <% chunk.each do |testimonial| %>
                    <% avatar_pool = testimonial_avatar_pools[testimonial[:type]] || testimonial_avatar_pools[:patient] %>
                    <% avatar_url = avatar_pool.sample %>
                    <div class="col d-flex">
                      <div class="mediapp-testimonial-card mediapp-review-card mx-auto p-4 p-md-4 p-xl-5 w-100 h-100">
                        <div class="row g-3 align-items-center mb-4">
                          <div class="col-12 col-lg">
                            <div class="d-flex align-items-center gap-3">
                              <div class="mediapp-testimonial-avatar flex-shrink-0">
                                <img src="<%= avatar_url %>" alt="Ícono de <%= testimonial[:name] %>" loading="lazy">
                              </div>
                              <div class="text-start">
                                <h5 class="mb-0 fw-bold"><%= testimonial[:name] %></h5>
                                <small class="mediapp-testimonial-role text-muted"><%= testimonial[:role] %></small>
                              </div>
                            </div>
                          </div>
                          <div class="col-12 col-lg-auto">
                            <div class="mediapp-review-rating text-lg-end">
                              <div class="mediapp-testimonial-stars d-flex gap-1 justify-content-start justify-content-lg-end mb-1">
                                <% 5.times do %>
                                  <svg viewBox="0 0 24 24"><path d="M12 2l3 6.1 6.7.9-4.9 4.7 1.2 6.6-6-3.2-6 3.2 1.2-6.6-4.9-4.7 6.7-.9z"/></svg>
                                <% end %>
                              </div>
                              <small class="fw-semibold text-secondary d-block">Calificación 5/5</small>
                            </div>
                          </div>
                        </div>
                        <p class="mediapp-testimonial-quote mediapp-review-quote mb-0"><%= testimonial[:quote] %></p>
                      </div>
                    </div>
                  <% end %>
                </div>
              </div>
            <% end %>
          </div>
          <button class="carousel-control-prev mediapp-carousel-control" type="button" data-bs-target="#levaTestimonialCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Anterior</span>
          </button>
          <button class="carousel-control-next mediapp-carousel-control" type="button" data-bs-target="#levaTestimonialCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Siguiente</span>
          </button>
        </div>
      </div>
    </section>

    <section id="contacto" class="py-5">
      <div class="mediapp-contact-shell p-4 p-lg-5">
        <div class="row g-4 align-items-center">
          <div class="col-lg-7">
            <div class="d-flex flex-wrap align-items-center gap-3 mb-3">
              <span class="mediapp-contact-badge text-uppercase">Asistencia en vivo</span>
              <small class="text-secondary">Tiempo de respuesta promedio <span class="fw-semibold text-dark">15 min</span></small>
            </div>
            <h3 class="fw-bold mb-2">¿Necesitas ayuda personalizada?</h3>
            <p class="text-secondary mb-4">Nuestro equipo está disponible para resolver tus dudas, coordinar nuevas integraciones o ayudarte a migrar tu agenda con acompañamiento dedicado.</p>
            <div class="d-flex flex-wrap gap-3 align-items-center">
              <a href="mailto:leva.soporte@gmail.com" class="btn mediapp-hero-btn mediapp-nav-btn text-white px-4 py-3 fw-semibold">Contactar equipo</a>
              <div class="d-flex align-items-center gap-2 text-secondary small">
                <span class="mediapp-contact-signal"></span>
                En línea ahora
              </div>
            </div>
            <div class="d-flex flex-wrap gap-3 mt-4">
              <div class="mediapp-contact-chip flex-fill flex-md-grow-0">
                <div class="d-flex align-items-center gap-3">
                  <span class="mediapp-contact-icon">
                    <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor">
                      <path d="M6.6 10.8a11.05 11.05 0 0 0 6.6 6.6l1.5-2.2a1 1 0 0 1 1.1-.4c1.2.4 2.5.6 3.8.6a1 1 0 0 1 1 1v3.7a1 1 0 0 1-1 1C9.8 21.1 2.9 14.2 2.9 5.4a1 1 0 0 1 1-1H7.6a1 1 0 0 1 1 1c0 1.3.2 2.6.6 3.8a1 1 0 0 1-.4 1.1l-2.2 1.5z"/>
                    </svg>
                  </span>
                  <div>
                    <small class="text-secondary d-block">Línea directa</small>
                    <strong class="text-dark">+11 0000 0000</strong>
                  </div>
                </div>
              </div>
              <div class="mediapp-contact-chip flex-fill flex-md-grow-0">
                <div class="d-flex align-items-center gap-3">
                  <span class="mediapp-contact-icon">
                    <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor">
                      <path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 2v.01L12 13 4 6.01V6h16zM4 18V8l8 7 8-7v10H4z"/>
                    </svg>
                  </span>
                  <div>
                    <small class="text-secondary d-block">Escríbenos</small>
                    <strong class="text-dark">leva.soporte@gmail.com</strong>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="mediapp-contact-panel h-100 p-4">
              <h6 class="fw-bold mb-3">Canales disponibles</h6>
              <ul class="list-unstyled mb-0">
                <li class="d-flex align-items-start gap-3 mb-3">
                  <span class="mediapp-contact-icon">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                      <path d="M12 12c2.21 0 4-1.79 4-4S14.21 4 12 4 8 5.79 8 8s1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                  </span>
                  <div>
                    <strong class="d-block">Gestor dedicado</strong>
                    <small class="text-secondary">Acompañamiento para clínicas y grupos médicos.</small>
                  </div>
                </li>
                <li class="d-flex align-items-start gap-3 mb-3">
                  <span class="mediapp-contact-icon">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                      <path d="M12 3a9 9 0 0 0-9 9c0 3.87 2.45 7.16 5.86 8.39.43.08.59-.18.59-.4v-1.55c-2.39.52-2.89-1.04-2.89-1.04-.39-.98-.95-1.24-.95-1.24-.78-.54.06-.53.06-.53.86.06 1.31.88 1.31.88.77 1.31 2.02.93 2.51.71.08-.56.3-.93.54-1.15-1.91-.22-3.92-.96-3.92-4.27 0-.94.34-1.71.9-2.31-.09-.22-.38-1.11.09-2.31 0 0 .72-.23 2.36.88a8.1 8.1 0 0 1 4.3 0c1.64-1.11 2.36-.88 2.36-.88.47 1.2.18 2.09.09 2.31.56.6.9 1.37.9 2.31 0 3.32-2.01 4.05-3.93 4.27.31.27.59.8.59 1.62v2.4c0 .22.16.48.6.4A9 9 0 0 0 21 12 9 9 0 0 0 12 3z"/>
                    </svg>
                  </span>
                  <div>
                    <strong class="d-block">Comunidad médica</strong>
                    <small class="text-secondary">Webinars, soporte y recursos exclusivos.</small>
                  </div>
                </li>
                <li class="d-flex align-items-start gap-3">
                  <span class="mediapp-contact-icon">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                      <path d="M20 2H4a2 2 0 0 0-2 2v16l4-4h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"/>
                    </svg>
                  </span>
                  <div>
                    <strong class="d-block">Chat prioritario</strong>
                    <small class="text-secondary">Respuesta instantánea desde la app o WhatsApp.</small>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="container border-top pt-4 mt-4">
    <div class="row gy-2 align-items-center">
      <div class="col-md-8 text-center text-md-start">
        <small class="text-secondary d-block">&copy; 2025 LEVA. Todos los derechos reservados.</small>
        <small class="text-secondary">Contacto: <a href="mailto:leva.soporte@gmail.com" class="text-decoration-none text-secondary">leva.soporte@gmail.com</a> · +11 0000 0000</small>
      </div>
      <div class="col-md-4 text-center text-md-end">
        <div class="d-flex justify-content-center justify-content-md-end gap-2 mb-2">
          <a class="btn mediapp-social-btn" href="https://x.com" target="_blank" rel="noopener" aria-label="X">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M18.27 2H21l-6.24 7.1L22 22h-5.93l-4.29-6-4.95 6H3.21l6.79-7.76L2.5 2h6.02l4.03 5.5L18.27 2z"/>
            </svg>
          </a>
          <a class="btn mediapp-social-btn" href="https://www.linkedin.com" target="_blank" rel="noopener" aria-label="LinkedIn">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm-9 15H7v-7h3v7zm-1.5-8.1a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5zM20 18h-3v-3.5c0-2.1-2.25-1.93-2.25 0V18h-3v-7h3v1.1c1.4-2.58 5.25-2.77 5.25 2.46V18z"/>
            </svg>
          </a>
          <a class="btn mediapp-social-btn" href="https://www.instagram.com" target="_blank" rel="noopener" aria-label="Instagram">
            <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 8.2A3.2 3.2 0 1 1 12 8a3.2 3.2 0 0 1 0 6.2z"/>
              <path d="M17.5 2h-11A4.5 4.5 0 0 0 2 6.5v11A4.5 4.5 0 0 0 6.5 22h11a4.5 4.5 0 0 0 4.5-4.5v-11A4.5 4.5 0 0 0 17.5 2zm2.7 15.5a2.7 2.7 0 0 1-2.7 2.7h-11a2.7 2.7 0 0 1-2.7-2.7v-11a2.7 2.7 0 0 1 2.7-2.7h11a2.7 2.7 0 0 1 2.7 2.7v11z"/>
              <circle cx="17.4" cy="6.6" r="1.1"/>
            </svg>
          </a>
        </div>
        <small class="text-secondary">Innovamos la experiencia médica digital.</small>
      </div>
    </div>
  </footer>
</div>

<div class="landing-chat" data-controller="landing-chat">
  <div class="landing-chat__panel" data-landing-chat-target="panel" aria-live="polite">
    <div class="landing-chat__header">
      <div>
        <p class="landing-chat__title mb-0">Agenda inteligente</p>
        <small class="text-secondary">Consulta horarios disponibles</small>
      </div>
      <button type="button" class="btn btn-link text-decoration-none p-0 text-secondary" data-action="landing-chat#toggle" aria-label="Cerrar chat">
        ×
      </button>
    </div>
    <div class="landing-chat__messages" data-landing-chat-target="messages">
      <div class="landing-chat__message landing-chat__message--assistant" data-initial-message="true" data-message="Hola 👋 ¿Deseas conocer horarios disponibles o agendar una cita? Indica la especialidad que necesitas.">
        <p class="landing-chat__message-author mb-1">Asistente LEVA</p>
        <p class="landing-chat__message-body mb-0">Hola 👋 ¿Deseas conocer horarios disponibles o agendar una cita? Indica la especialidad que necesitas.</p>
      </div>
    </div>
    <div class="landing-chat__error" data-landing-chat-target="error"></div>
    <form class="landing-chat__form" data-action="submit->landing-chat#send" data-landing-chat-target="form">
      <label for="landing_chat_input" class="visually-hidden">Escribe tu mensaje</label>
      <textarea id="landing_chat_input" placeholder="Ej. Necesito cardiólogo para la próxima semana" data-landing-chat-target="input"></textarea>
      <button type="submit" class="landing-chat__submit" data-landing-chat-target="submit">Preguntar al asistente</button>
    </form>
  </div>
  <button type="button"
          class="btn btn-primary rounded-pill shadow mediapp-floating-btn d-inline-flex align-items-center gap-2 px-3 py-2"
          aria-label="Consultas rápidas"
          data-action="landing-chat#toggle">
    <span class="fw-semibold text-white text-uppercase small">Asistente IA</span>
    <span class="mediapp-floating-arrow rounded-circle ms-2">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 5l-1.41 1.41L15.17 11H6v2h9.17l-4.58 4.59L12 19l7-7z" fill="currentColor"/>
      </svg>
    </span>
  </button>
</div>

<script>
  const levaSmoothNav = () => {
    const nav = document.querySelector('.mediapp-nav');
    const navOffset = (nav?.offsetHeight || 0) + 20;

    document.querySelectorAll('[data-scroll-target]').forEach((link) => {
      if (link.dataset.bound === 'true') return;
      link.dataset.bound = 'true';
      link.addEventListener('click', (event) => {
        event.preventDefault();
        const target = document.querySelector(link.dataset.scrollTarget);
        if (!target) return;

        const targetPosition = target.getBoundingClientRect().top + window.pageYOffset;
        const scrollTo = Math.max(targetPosition - navOffset, 0);

        window.scrollTo({ top: scrollTo, behavior: 'smooth' });
      });
    });
  };

  document.addEventListener('DOMContentLoaded', levaSmoothNav);
  document.addEventListener('turbo:load', levaSmoothNav);
</script>
